

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Schemas &mdash; pgpointcloud</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=36f53d34"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Point Cloud Objects" href="objects.html" />
    <link rel="prev" title="Concepts" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pgPointcloud
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Concepts</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="objects.html">Point Cloud Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="tables.html">Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="compressions.html">Compressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="binary.html">Binary Formats</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../functions/index.html">Functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../update.html">Update</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pgPointcloud</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Concepts</a></li>
      <li class="breadcrumb-item active">Schemas</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="schemas">
<span id="id1"></span><h1>Schemas<a class="headerlink" href="#schemas" title="Link to this heading"></a></h1>
<p>Much of the complexity in handling LIDAR comes from the need to deal with
multiple variables per point. The variables captured by LIDAR sensors varies by
sensor and capture process. Some data sets might contain only X/Y/Z values.
Others will contain dozens of variables: X, Y, Z; intensity and return number;
red, green, and blue values; return times; and many more. There is no
consistency in how variables are stored: intensity might be stored in a 4-byte
integer, or in a single byte; X/Y/Z might be doubles, or they might be scaled
4-byte integers.</p>
<p>PostgreSQL Pointcloud deals with all this variability by using a “schema
document” to describe the contents of any particular LIDAR point. Each point
contains a number of dimensions, and each dimension can be of any data type,
with scaling and/or offsets applied to move between the actual value and the
value stored in the database. The schema document format used by PostgreSQL
Pointcloud is the same one used by the <a class="reference external" href="https://pdal.io/">PDAL</a> library.</p>
<p>Here is a simple 4-dimensional schema document you can insert into
<code class="docutils literal notranslate"><span class="pre">pointcloud_formats</span></code> to work with the examples below:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>INSERT<span class="w"> </span>INTO<span class="w"> </span>pointcloud_formats<span class="w"> </span>(pcid,<span class="w"> </span>srid,<span class="w"> </span>schema)<span class="w"> </span>VALUES<span class="w"> </span>(1,<span class="w"> </span>4326,
&#39;<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;pc:PointCloudSchema</span><span class="w"> </span><span class="na">xmlns:pc=</span><span class="s">&quot;http://pointcloud.org/schemas/PC/1.1&quot;</span>
<span class="w">    </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;pc:dimension&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:position&gt;</span>1<span class="nt">&lt;/pc:position&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:size&gt;</span>4<span class="nt">&lt;/pc:size&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:description&gt;</span>X<span class="w"> </span>coordinate<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>long<span class="w"> </span>integer.<span class="w"> </span>You<span class="w"> </span>must<span class="w"> </span>use<span class="w"> </span>the
<span class="w">                    </span>scale<span class="w"> </span>and<span class="w"> </span>offset<span class="w"> </span>information<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>header<span class="w"> </span>to
<span class="w">                    </span>determine<span class="w"> </span>the<span class="w"> </span>double<span class="w"> </span>value.<span class="nt">&lt;/pc:description&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:name&gt;</span>X<span class="nt">&lt;/pc:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:interpretation&gt;</span>int32_t<span class="nt">&lt;/pc:interpretation&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:scale&gt;</span>0.01<span class="nt">&lt;/pc:scale&gt;</span>
<span class="w">  </span><span class="nt">&lt;/pc:dimension&gt;</span>
<span class="w">  </span><span class="nt">&lt;pc:dimension&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:position&gt;</span>2<span class="nt">&lt;/pc:position&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:size&gt;</span>4<span class="nt">&lt;/pc:size&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:description&gt;</span>Y<span class="w"> </span>coordinate<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>long<span class="w"> </span>integer.<span class="w"> </span>You<span class="w"> </span>must<span class="w"> </span>use<span class="w"> </span>the
<span class="w">                    </span>scale<span class="w"> </span>and<span class="w"> </span>offset<span class="w"> </span>information<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>header<span class="w"> </span>to
<span class="w">                    </span>determine<span class="w"> </span>the<span class="w"> </span>double<span class="w"> </span>value.<span class="nt">&lt;/pc:description&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:name&gt;</span>Y<span class="nt">&lt;/pc:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:interpretation&gt;</span>int32_t<span class="nt">&lt;/pc:interpretation&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:scale&gt;</span>0.01<span class="nt">&lt;/pc:scale&gt;</span>
<span class="w">  </span><span class="nt">&lt;/pc:dimension&gt;</span>
<span class="w">  </span><span class="nt">&lt;pc:dimension&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:position&gt;</span>3<span class="nt">&lt;/pc:position&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:size&gt;</span>4<span class="nt">&lt;/pc:size&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:description&gt;</span>Z<span class="w"> </span>coordinate<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>long<span class="w"> </span>integer.<span class="w"> </span>You<span class="w"> </span>must<span class="w"> </span>use<span class="w"> </span>the
<span class="w">                    </span>scale<span class="w"> </span>and<span class="w"> </span>offset<span class="w"> </span>information<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>header<span class="w"> </span>to
<span class="w">                    </span>determine<span class="w"> </span>the<span class="w"> </span>double<span class="w"> </span>value.<span class="nt">&lt;/pc:description&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:name&gt;</span>Z<span class="nt">&lt;/pc:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:interpretation&gt;</span>int32_t<span class="nt">&lt;/pc:interpretation&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:scale&gt;</span>0.01<span class="nt">&lt;/pc:scale&gt;</span>
<span class="w">  </span><span class="nt">&lt;/pc:dimension&gt;</span>
<span class="w">  </span><span class="nt">&lt;pc:dimension&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:position&gt;</span>4<span class="nt">&lt;/pc:position&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:size&gt;</span>2<span class="nt">&lt;/pc:size&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:description&gt;</span>The<span class="w"> </span>intensity<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>integer<span class="w"> </span>representation
<span class="w">                    </span>of<span class="w"> </span>the<span class="w"> </span>pulse<span class="w"> </span>return<span class="w"> </span>magnitude.<span class="w"> </span>This<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>optional
<span class="w">                    </span>and<span class="w"> </span>system<span class="w"> </span>specific.<span class="w"> </span>However,<span class="w"> </span>it<span class="w"> </span>should<span class="w"> </span>always<span class="w"> </span>be
<span class="w">                    </span>included<span class="w"> </span>if<span class="w"> </span>available.<span class="nt">&lt;/pc:description&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:name&gt;</span>Intensity<span class="nt">&lt;/pc:name&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:interpretation&gt;</span>uint16_t<span class="nt">&lt;/pc:interpretation&gt;</span>
<span class="w">    </span><span class="nt">&lt;pc:scale&gt;</span>1<span class="nt">&lt;/pc:scale&gt;</span>
<span class="w">  </span><span class="nt">&lt;/pc:dimension&gt;</span>
<span class="w">  </span><span class="nt">&lt;pc:metadata&gt;</span>
<span class="w">    </span><span class="nt">&lt;Metadata</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;compression&quot;</span><span class="nt">&gt;</span>dimensional<span class="nt">&lt;/Metadata&gt;</span>
<span class="w">  </span><span class="nt">&lt;/pc:metadata&gt;</span>
<span class="nt">&lt;/pc:PointCloudSchema&gt;</span>&#39;);
</pre></div>
</div>
<p>Schema documents are stored in the <code class="docutils literal notranslate"><span class="pre">pointcloud_formats</span></code> table, along with a
<code class="docutils literal notranslate"><span class="pre">pcid</span></code> or “pointcloud identifier”. Rather than store the whole schema
information with each database object, each object just has a <code class="docutils literal notranslate"><span class="pre">pcid</span></code>, which
serves as a key to find the schema in <code class="docutils literal notranslate"><span class="pre">pointcloud_formats</span></code>. This is similar
to the way the <code class="docutils literal notranslate"><span class="pre">srid</span></code> is resolved for spatial reference system support in
<a class="reference external" href="http://postgis.net/">PostGIS</a>.</p>
<p>The central role of the schema document in interpreting the contents of a point
cloud object means that care must be taken to ensure that the right <code class="docutils literal notranslate"><span class="pre">pcid</span></code>
reference is being used in objects, and that it references a valid schema
document in the <code class="docutils literal notranslate"><span class="pre">pointcloud_formats</span></code> table.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Concepts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="objects.html" class="btn btn-neutral float-right" title="Point Cloud Objects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  
    <div class="footer">
        <div class="container">
            &copy;  2025
            <a href="https://github.com/pramsey">Paul Ramsey</a>,
            <a href="http://github.com/pblottiere">Paul Blottiere</a>,
            <a href="http://github.com/mbredif">Mathieu Brédif</a>,
            <a href="http://github.com/elemoine">Eric Lemoine</a>,
            and
            <a href="https://github.com/pgpointcloud/pointcloud/graphs/contributors">others</a>,
        </div>
    </div>
     


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>